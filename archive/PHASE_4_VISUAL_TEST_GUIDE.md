# ğŸ¨ **PHASE 4: VISUAL TEST GUIDE**

## âš¡ **30-SECOND TEST - DRAGGABLE CROP**

1. Open Vault â†’ Select photo
2. Click "Enhance"
3. Visual Tab â†’ Advanced Editing â†’ Crop
4. Click "1:1" aspect ratio
5. **âœ… VERIFY:** Crop overlay appears
6. **âœ… TRY:** Drag center of crop â†’ Moves entire region
7. **âœ… TRY:** Drag any corner handle â†’ Resizes crop
8. **âœ… VERIFY:** Badge shows "â†”ï¸ Move" or "â†—ï¸ Resize"
9. Save as New â†’ Cropped image created!

---

## âš¡ **30-SECOND TEST - TEXT LAYERS**

1. Open Vault â†’ Select photo
2. Click "Enhance"
3. **Overlays Tab** (third tab)
4. **âœ… VERIFY:** "Text Layers" section at top
5. Click **"Add Text"** button
6. **âœ… VERIFY:** Text appears on photo ("Double-click to edit")
7. **âœ… TRY:** Drag text â†’ Moves position
8. **âœ… TRY:** Double-click text â†’ Edit prompt
9. **âœ… TRY:** Change size/color in panel
10. Save as New â†’ Photo with text created!

---

## ğŸ¯ **WHAT YOU SHOULD SEE**

### **Draggable Crop:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚
â”‚  â–“â–“â–“â–“â–“â–“â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚
â”‚  â–“â–“â–“â–“â–“â–“â”‚ âšª <- DRAG ME      âšªâ”‚â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚ â† Top corners
â”‚  â–“â–“â–“â–“â–“â–“â”‚      (resize)        â”‚â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚
â”‚  â–“â–“â–“â–“â–“â–“â”‚                       â”‚â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚
â”‚  â–“â–“â–“â–“â–“â–“â”‚    DRAG CENTER TO    â”‚â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚ â† Drag center
â”‚  â–“â–“â–“â–“â–“â–“â”‚        MOVE  â†”ï¸       â”‚â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚   to move
â”‚  â–“â–“â–“â–“â–“â–“â”‚                       â”‚â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚
â”‚  â–“â–“â–“â–“â–“â–“â”‚ âšª                  âšªâ”‚â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚ â† Bottom corners
â”‚  â–“â–“â–“â–“â–“â–“â”‚      (resize)        â”‚â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚
â”‚  â–“â–“â–“â–“â–“â–“â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚
â”‚  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘
   Badge shows drag mode
   "â†”ï¸ Move" or "â†—ï¸ Resize"
```

**Handle Cursors:**
- **NW (top-left):** â†– `cursor-nwse-resize`
- **NE (top-right):** â†— `cursor-nesw-resize`
- **SW (bottom-left):** â†™ `cursor-nesw-resize`
- **SE (bottom-right):** â†˜ `cursor-nwse-resize`
- **Center:** âœ‹ `cursor-move`

---

### **Text Layers Panel:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ Text Layers            [3]  [Add Text]â”‚ â† Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ "SUMMER VIBES"          [ğŸ—‘ï¸]     â”‚   â”‚ â† Layer 1
â”‚ â”‚ 48px â€¢ Sans                        â”‚   â”‚   (selected)
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚ â”‚ â”‚ Text: [SUMMER VIBES_____]  â”‚   â”‚   â”‚ â† Edit panel
â”‚ â”‚ â”‚ Font: [Sans â–¼] Size: [48]  â”‚   â”‚   â”‚
â”‚ â”‚ â”‚ Color: [ğŸ¨] Rotate: 0Â°     â”‚   â”‚   â”‚
â”‚ â”‚ â”‚ Shadow: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 10px       â”‚   â”‚   â”‚
â”‚ â”‚ â”‚ Outline: â–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 2px       â”‚   â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ "2023"                   [ğŸ—‘ï¸]     â”‚   â”‚ â† Layer 2
â”‚ â”‚ 72px â€¢ Serif                       â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ "Beach Life"            [ğŸ—‘ï¸]     â”‚   â”‚ â† Layer 3
â”‚ â”‚ 32px â€¢ Cursive                     â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **Text on Canvas:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—              â”‚ â† Text layer
â”‚     â•‘   SUMMER VIBES            â•‘              â”‚   with purple
â”‚     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚   selection ring
â”‚            â†‘                                    â”‚
â”‚      [Selected â€¢ Drag to move] â† Badge         â”‚
â”‚                                                 â”‚
â”‚                  ğŸ–¼ï¸                            â”‚ â† Photo
â”‚              PHOTO HERE                         â”‚
â”‚                                                 â”‚
â”‚                                                 â”‚
â”‚                    2023                         â”‚ â† Another text
â”‚                                                 â”‚   (not selected)
â”‚                                                 â”‚
â”‚                                 Beach Life~     â”‚ â† Rotated text
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¬ **INTERACTION DEMO**

### **Drag Corner Handle:**

**Before:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHOTO   â”‚  100x100px
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Dragging SE Corner:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHOTO       â”‚  â† Expanding
â”‚              â”‚
â”‚          ğŸŸ£  â”‚  â† Dragging this corner
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**After:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PHOTO       â”‚  150x150px
â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **Drag Center:**

**Before:**
```
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ PHOTO  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Dragging:**
```
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ PHOTO  â”‚  â† Moving entire crop
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**After:**
```
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ PHOTO  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **Add Text Layer:**

**Step 1: Click "Add Text"**
```
[Add Text] â† Click this
    â†“
Text appears on photo
```

**Step 2: Text Appears**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚
â”‚  Double-click to edit   â”‚ â† New text (centered)
â”‚                         â”‚
â”‚        PHOTO            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step 3: Drag to Position**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Double-click to edit   â”‚ â† Drag here
â”‚                         â”‚
â”‚        PHOTO            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step 4: Edit Text**
```
Double-click text:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Edit text:          â”‚
â”‚ [SUMMER 2023_____]  â”‚
â”‚ [OK]    [Cancel]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Final Result:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    SUMMER 2023          â”‚ â† Custom text
â”‚                         â”‚
â”‚        PHOTO            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ **VISUAL EFFECTS PREVIEW**

### **Text with Shadow:**
```
   SUMMER
   â–’â–’â–’â–’â–’â–’  â† Shadow behind
```

### **Text with Outline:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  SUMMER   â•‘ â† Outlined text
â•šâ•â•â•â•â•â•â•â•â•â•â•â•
```

### **Rotated Text:**
```
       S
      U
     M  â† Rotated 45Â°
    M
   E
  R
```

### **Combined Effects:**
```
   â•”â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘  SUMMER   â•‘ â† Outline
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•
   â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’  â† Shadow
```

---

## âœ… **QUICK CHECKLIST**

### **Draggable Crop:**
- [ ] Corner handles visible (white circles with purple border)
- [ ] Corner handles scale on hover
- [ ] Cursor changes on hover (resize arrows)
- [ ] Drag corner â†’ Crop resizes
- [ ] Drag center â†’ Crop moves
- [ ] Badge updates during drag
- [ ] Aspect ratio maintained (when preset selected)
- [ ] Crop stays within image bounds

### **Text Layers:**
- [ ] "Text Layers" section visible in Overlays tab
- [ ] "Add Text" button present (purple-pink gradient)
- [ ] Layer count badge shows "0" initially
- [ ] Click "Add Text" â†’ Text appears on canvas
- [ ] Text has selection ring (purple) when selected
- [ ] Drag text â†’ Position updates
- [ ] Double-click text â†’ Edit prompt appears
- [ ] Edit panel shows when layer selected
- [ ] Font dropdown works
- [ ] Size input works
- [ ] Color picker works
- [ ] Rotation slider works
- [ ] Shadow slider works
- [ ] Outline slider works
- [ ] Delete button removes layer
- [ ] Multiple layers can be added

---

## ğŸ¯ **EXPECTED BEHAVIOR**

### **Crop Drag Scenarios:**

| Action | Expected Result |
|--------|-----------------|
| Click center | Badge: "1:1 â€¢ Drag to adjust" |
| Start drag center | Badge: "â†”ï¸ Move" |
| Drag center | Crop moves with cursor |
| Release | Crop stays in new position |
| Click corner | Cursor: Resize arrow |
| Start drag corner | Badge: "â†—ï¸ Resize" |
| Drag corner | Crop resizes maintaining aspect |
| Drag beyond bounds | Crop stops at edge |

### **Text Drag Scenarios:**

| Action | Expected Result |
|--------|-----------------|
| Click text | Purple selection ring appears |
| Badge shows | "Selected â€¢ Drag to move" |
| Start drag text | Text follows cursor |
| Drag text | Position updates smoothly |
| Release | Text stays in new position |
| Double-click text | Edit prompt appears |
| Type new text | Text updates on canvas |
| Click "Add Text" | New layer added to list |
| Delete layer | Text removed from canvas & list |

---

## ğŸ› **TROUBLESHOOTING VISUAL ISSUES**

### **Crop handles not appearing?**
**Check:**
- Crop mode enabled (aspect ratio selected)
- `cropRegion` state has values
- Corner handle divs rendering
- Z-index not blocked by other elements

**Expected:**
- 4 white circles at corners
- Purple border on circles
- Scale effect on hover

---

### **Crop not dragging?**
**Check:**
- Console for `handleCropDragStart` called
- `cropDragHandle` state updates
- Mouse/touch events firing
- `previewContainerRef` has element

**Expected:**
- Cursor changes on hover
- Badge updates during drag
- Crop position/size changes smoothly

---

### **Text not visible?**
**Check:**
- `textLayers` array has items
- Text color not same as background
- Text size not too small
- Text position within canvas bounds

**Expected:**
- Text visible on canvas
- Text follows cursor when dragging
- Selection ring when selected

---

### **Text effects not showing?**
**Check:**
- Shadow blur > 0 to see shadow
- Outline width > 0 to see outline
- Color values valid (not transparent)
- Canvas export applies effects

**Expected:**
- Shadow appears as blur behind text
- Outline appears as stroke around text
- Rotation tilts text
- Font changes appearance

---

## ğŸ“¸ **SCREENSHOT GUIDE**

### **Take Screenshots Of:**

1. **Crop with all handles visible**
   - Show corner handles
   - Show badge
   - Show cursor change

2. **Dragging crop center**
   - Show badge: "â†”ï¸ Move"
   - Show crop in motion

3. **Dragging crop corner**
   - Show badge: "â†—ï¸ Resize"
   - Show crop resizing

4. **Text Layers panel**
   - Show "Add Text" button
   - Show layer list
   - Show selected layer with edit panel

5. **Text on canvas**
   - Show selection ring
   - Show drag badge
   - Show multiple text layers

6. **Text with effects**
   - Show shadow effect
   - Show outline effect
   - Show rotated text

7. **Final export**
   - Show cropped + text result
   - Compare original vs enhanced

---

## ğŸ‰ **SUCCESS!**

If you can do all of these, **Phase 4 is working perfectly:**

### **Crop:**
âœ… Drag center to move crop region  
âœ… Drag corners to resize crop region  
âœ… Aspect ratio maintained (when preset selected)  
âœ… Badge shows drag feedback  
âœ… Handles scale on hover  
âœ… Works on mobile with touch  

### **Text:**
âœ… Add multiple text layers  
âœ… Drag text to position  
âœ… Edit text content  
âœ… Change font, size, color  
âœ… Rotate text  
âœ… Add shadow and outline effects  
âœ… Delete layers  
âœ… Export with all effects  

---

## ğŸš€ **READY FOR TESTING!**

Follow this guide to verify everything works.  
Report any issues you find!  
Enjoy your new editing powers! ğŸ¨âœ¨
